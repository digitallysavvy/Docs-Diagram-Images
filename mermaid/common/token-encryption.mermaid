graph TD;
    A1[Client A: App A, SDK A] -->|Capture & Encode| A2[SDK A: Encryption Enabled]
    A2 -->|Encrypted Stream| AC[Agora Cloud: TCP & UDP Encryption]
    AC --> B2[Client B: SDK B]
    B2 -->|Decrypt| B1[Client B: App B]

    subgraph Clients and Apps Setup
    A1
    B1
    end

    subgraph Media Stream Encryption & Transmission
    A2
    AC
    B2
    end

    subgraph Encryption Key & Mode Transmission
    A1 -->|Encryption Key & Mode| B1
    end