flowchart TB
    subgraph setupClient ["Setup Client"]
        login[("User Login")]
        authenticate[("Authenticate")]
        getToken[("Get Token from Token Server")]
        createClient[("Create Client Instance with Roles")]
        login --> authenticate --> getToken --> createClient
    end
    
    subgraph runCall ["Run Call"]
        connectResources[("Connect to Local Audio and Video Resources")]
        joinChannel[("Join Channel on Agora Platform")]
        manageCommunication[("Manage Audio and Video Communication")]
        connectResources --> joinChannel --> manageCommunication
    end

    subgraph endCall ["End Call"]
        closeConnection[("Close Audio and Video Connections")]
        leaveCall[("Leave Call")]
        closeConnection --> leaveCall
    end

    createClient --> runCall
    manageCommunication --> endCall