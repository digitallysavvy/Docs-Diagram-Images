sequenceDiagram
    participant User as User
    participant App as Application
    participant SDK as Video SDK
    participant Engine as Agora Engine
    participant TokenService as Token Service
    participant SDRTN as SD-RTN
    participant MediaPlayer as Media Player

    User->>App: Opens application
    App->>SDK: Initializes
    SDK->>Engine: Create instance
    Engine->>Engine: Enable audio and video

    App->>TokenService: Retrieve token
    TokenService-->>App: Token
    App->>SDRTN: Join channel with token

    User->>App: Selects media file
    App->>SDK: Create Media Player instance
    SDK->>MediaPlayer: Initiate
    MediaPlayer->>MediaPlayer: Open media file
    App->>App: Set up local video panel
    App->>SDRTN: Update channel media options
    MediaPlayer-->>App: Display output
    MediaPlayer->>MediaPlayer: Play media
    User->>MediaPlayer: Pause/Resume
    MediaPlayer->>App: Complete playback
    App->>SDRTN: Publish camera & mic